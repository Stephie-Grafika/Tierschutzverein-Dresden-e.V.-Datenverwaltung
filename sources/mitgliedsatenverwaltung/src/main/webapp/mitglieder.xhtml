<?xml version='1.0' encoding='UTF-8' ?>
<html xmlns="http://www.w3.org/1999/xhtml" 
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:p="http://primefaces.org/ui"> <!-- Präfix für Elemente / Framework: JFS - h & f, Primeface - p -->
<h:head>
	<title>TSV Mitgliedsverwaltung</title>
	<!-- CSS -->
	<link rel="stylesheet" type="text/css" media="screen" href="assets/css/color.css"/>
	<link rel="stylesheet" type="text/css" media="screen" href="assets/css/fonts.css"/>
	<link rel="stylesheet" type="text/css" media="screen" href="assets/css/styles.css"/>
	<link rel="shortcut icon" type="image/x-icon" href="assets/favicon/Tierschutzverein-Dresden-Favicon.png"/>
	<!-- Indexierung verhindern -->
	<meta name="robots" content="noindex"/>
</h:head>
<h:body>
	<!-- Header & Logo -->
	<header>
		<img src="assets/img/TSV-Logo.png" id="logo"/>
		<nav class="navbar">
			<ul class="nav">
				<li><a href="mitglieder.xhtml">Mitgliedsverwaltung</a></li>
				<li><a href="#">Spendenbescheinigungen</a></li>
				<li><a href="#">Sponsorunternehmen</a></li>
           </ul>
        </nav>  
		<br/><hr/><br/><br/>
	</header>
	<h1>Mitgliedsverwaltung</h1>
	<p:dataTable id="table" var="mitglied" value="#{mitgliedListe.liste}" emptyMessage="Kein Mitglied unter dieser Suche gefunden." size="small" stickyHeader="true" stickyTopAt=".layout-topbar">
		<p:column headerText="Mitglieds-Nr." sortBy="#{mitglied.mitgliedsID}" filterBy="#{mitglied.mitgliedsID}" filterPlaceholder="Suchen">
			<p:outputLabel value="#{mitglied.mitgliedsID}" id="IDInput" required="true" requiredMessage="Feld ist erforderlich" >
			</p:outputLabel>
		</p:column>
		<p:column headerText="Titel" sortBy="#{mitglied.titel}" filterBy="#{mitglied.titel}" filterPlaceholder="Suchen">
			<p:inputText value="#{mitglied.titel}" id="Titel" label="Titel" validatorMessage="UTF8">
				<f:validateRegex pattern="[a-zA-ZäöüÄÖÜß(),.;:'-–&amp; ]+"/>
				<f:validateLength minimum="0" maximum="10"/>
			</p:inputText>
		</p:column>
		<p:column headerText="Vorname" sortBy="#{mitglied.vorname}" filterBy="#{mitglied.vorname}" filterPlaceholder="Suchen">
			<p:inputText value="#{mitglied.vorname}" id="vornameInput" label="Vorname" required="true" requiredMessage="Vorname ist erforderlich">
				<f:validateRegex pattern="[a-zA-ZäöüÄÖÜß. ]+"/>
			</p:inputText>
		</p:column>
		<p:column headerText="Nachname" sortBy="#{mitglied.nachname}" filterBy="#{mitglied.nachname}" filterPlaceholder="Suchen">
			<p:inputText value="#{mitglied.nachname}" id="nameInput" label="Name" required="true" requiredMessage="Name ist erforderlich">
				<f:validateRegex pattern="[a-zA-ZäöüÄÖÜß. ]+"/>
			</p:inputText>
		</p:column>
		<p:column headerText="Geburstag" sortBy="#{mitglied.geburtstag}" filterBy="#{mitglied.geburtstag}">
			<p:datePicker id="geburtstag" value="#{mitglied.geburtstag}" label="Geburstag" locale="de" monthNavigator="true" pattern="dd.MM.yyyy">
			</p:datePicker>
		</p:column>
		<p:column headerText="Löschen">
           		<p:commandLink value="&#10008; Löschen" action="#{mitgliedsListeController.deleteMitglied(mitglied)}" update="table" />
        	</p:column>
	</p:dataTable>
	<div class="positionierter-button">
		<p:messages id="messages">
			<p:autoUpdate />
		</p:messages>
		<p:commandButton value="Speichern" icon="pi pi-check" action="#{mitgliedsListeController.stopEdit}" />
		<p:commandButton value="Neues Mitglied" icon="pi pi-plus" action="#{mitgliedsListeController.addMitglied}" update="table" />
	</div>
		
	<footer>
	<br/><br/><hr/><br/>
		<ul>
          	<li>© Stephanie Ott (4237273) 2025</li>
		</ul>
	</footer>
</h:body>
</html>